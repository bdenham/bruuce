---
title: Personalization initialization
description: Learn about the initializer for the Personalization drop-in component.
---

import OptionsTable from '@components/OptionsTable.astro';

The personalization drop-in component requires the initializer to be included on all pages (in the `header.js` file).

The initialization code is located in the `/scripts/initializers/personalization.js` file of the boilerplate.

## Functionality

The initialization is setting the following listeners:

<OptionsTable
  options={[
    ['Event', 'Handling'],
    ['cart/updated', 'Requests the applied customer group, segments and cart rules from Adobe Commerce and saves them to a cookie'],
    ['authenticated', 'Sets the flag to enable cart/initialized event processing on login, clears the cookie on logout'],
    ['cart/initialized', 'If the customer has just logged-in, requests the applied customer group, segments and cart rules from Adobe Commerce and saves them to a cookie'],
  ]}
/>

## Initialization example

Add the following line to the `blocks/header/header.js` file in the boilerplate (or any other file included for all pages):

```js
import '../../scripts/initializers/personalization.js';
```
