---
title: Creating drop-in components
description: Learn how to create a drop-in component using the drop-in template.
---

import { Steps } from '@astrojs/starlight/components';
import Tasks from '@components/Tasks.astro';
import Task from '@components/Task.astro';

This topic describes how to use the `drop-template` repository to create drop-in components for Adobe Commerce Storefronts.

## What are drop-in component templates?

Drop-in templates are GitHub Templates that allow you to quickly create drop-in components with the same structure, branches, files, and best practices built-in. The `dropin-template` repository provides the starting point for creating new drop-ins quickly and consistently.

For more information on GitHub Templates, you can refer to the following resource: [How to Use GitHub Repository Templates](https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-repository-from-a-template)

## How to use the Adobe Commerce drop-in template

:::note
Supported Node versions are: Maintenance (v20) and Active (v22).
:::

To create a new drop-in component using the Adobe Commerce drop-in template, follow these steps:

<Steps>
1. **Navigate to the Template Repository**: Go to https://github.com/adobe-commerce/dropin-template.
1. **Create a New Repository**: Click on the "Use this template" button to create a new repository based on the template. This will generate a new repository with the same directory structure and files as the template.
1. **Clone Your New Repository**: You can now clone the newly created repository to your local machine using `git clone`.
1. **Install, Configure, and Launch**: Follow the instructions in your new repo's `README` file to install the dependencies, generate a configuration file, update your Mesh endpoint, and launch your development environment.
</Steps>

That's it! You now have a drop-in application with the same consistency and best practices that Adobe's drop-ins have, built in.

## Adding a shared component to your project
After creating your drop-in component, let's add a shared component from the Storefront SDK. These components are designed to be reusable and customizable, making it easier to build consistent and high-quality user interfaces. Follow the steps below to add a shared component to your drop-in component project.


<Tasks>
<Task>
### Install the `@adobe-commerce/elsie` package

Run the following command to install the Storefront SDK package:

```txt
npm install @adobe-commerce/elsie
```
</Task>
<Task>
### Use a library component from the SDK

In your generated UI component, import a shared component from the Storefront SDK package and render it. For example, you can add the `Button` component as follows:

   ```javascript
   import { Button } from '@adobe-commerce/elsie';
   
   function MyUiComponent() {
     return (
       <div>
         <Button label="Click Me" />
       </div>
     );
   }
   ```

</Task>


</Tasks>

## Understanding the Dropin Sandbox Environment
The following steps are to help you navigate previewing your dropin in the Sandbox Environment, `examples/html-host/index.html`.
<Tasks>
<Task>

### Import Map Configuration

```html
<script type="importmap">
  {
    "imports": {
      "@dropins/tools/": "https://cdn.jsdelivr.net/npm/@dropins/tools/",
      "my-pkg/": "http://localhost:3002/"
    }
  }
</script>
```

This tells the browser:

- **Adobe Commerce tools**: `@dropins/tools/`  
- **Your dropin code**: `my-pkg/` (served from `http://localhost:3002/`)

> **Tip:** Replace `my-pkg/` with your dropin’s npm name, e.g. `@dropins/cart/`.  
> Add other imports for your dropin as needed.

</Task>

<Task>
### Core Imports

```javascript
// Import API functions to use with action buttons
// Replace `my-pkg` with `@dropins/YourDropin`
import * as pkg from 'my-pkg/api.js';
// or more specifically:
import { myFunction } from 'my-pkg/api.js';
```
```javascript
// The event bus is a core communication tool for all dropins. 
// They subscribe and publish to events to talk to each other without direct coupling.
import { events } from '@dropins/tools/event-bus.js';
```
*For Mesh-based Dropins (e.g., Cart):*
```javascript

// GraphQL Client - For data fetching
import * as mesh from '@dropins/tools/fetch-graphql.js';

// Initialize GraphQl Client (Mesh)
// Mesh Endpoint
mesh.setEndpoint(process.env.ENDPOINT);
```

*For Direct API-based Dropins (e.g., Recommendations):*
```javascript


// Configure API
pkg.setEndpoint('https://www.aemshop.net/cs-graphql');

```

*Initializers*

The initializer is a lifecycle management system that handles the setup, configuration, and coordination of components in the application.

```javascript
import { initializers } from '@dropins/tools/initializer.js';
```
</Task>

<Task>

### Dropin container Setup
Uncomment and modify these lines to setup your container
```javascript
// import { render as provider } from 'my-pkg/render.js';
// import <Container> from 'my-pkg/containers/<Container>.js';
```
For example:
```javascript
import { render as provider } from '@dropins/cart/render.js';
import MiniCart from '@dropins/cart/containers/MiniCart.js';
```

</Task>

### Sandbox Structure

The sandbox environment is divided into three main sections:

#### 1. Action Controls (Top)
Controls for triggering functionality:
```html
<fieldset class="actions">
  <legend>API Functions</legend>
  <button id="action-1" disabled>Action</button>
</fieldset>
```

Example usage:
```javascript
const $action_1 = document.getElementById('action-1');
$action_1.addEventListener('click', () => {
  console.log("action-1 has been clicked");
  myFunction(); // or pkg.myFunction();
});
```

#### 2. Data/Debug Display (Middle)
Real-time data and response visualization:
```html
<code data-label="fetchGraphQl">
  <pre id="data">⏳ Loading...</pre>
</code>
```

Example usage:
```javascript
// Display event data
const $data = document.getElementById('data');
events.on('<eventName>', (data) => {
  $data.innerText = JSON.stringify(data, null, 2);
});

// Update loading state
$data.innerText = '⏳ Loading...';
```

#### 3. Container Display (Bottom)
Where your drop-in components are rendered:
```html
<div class="containers">
  <h2 class="heading">Frontend Containers</h2>
  <div id="my-container" class="container"></div>
</div>
```

Example usage:
```javascript
const $my_container = document.getElementById('my-container');
provider.render(Container, {
  // Your container props
})($my_container);
```

:::tip[More Info]
For more details on the usage of _event bus_, _initializers_, and _render_, visit the API section of the [SDK documentation](https://adobe-commerce.github.io/StorefrontSDK/storybook/).
:::

### Styling the Sandbox
The Sanbox environment is style using two stylesheets:

I. `style.css` which is the base styling file that handles root-level styles and variables as well as global element styles.  
II. `example.css` which is specifically for styling sandbox UI components.

</Tasks>
