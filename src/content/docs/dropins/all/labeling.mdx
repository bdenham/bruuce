---
title: Labeling and localizing drop-in components
description: How to localize your drop-in components.
sidebar:
  label: Labeling
  order: 5
---

import Aside from '@components/Aside.astro';
import Diagram from '@components/Diagram.astro';
import CodeImport from '@components/CodeImport.astro';
import CodeInclude from '@components/CodeInclude.astro';
import dictionary from '@dropins/tools/types/elsie/src/i18n/en_US.json.d.ts?raw';
import Vocabulary from '@components/Vocabulary.astro';
import Callouts from '@components/Callouts.astro';
import OptionsTable from '@components/OptionsTable.astro';
import { Steps } from '@astrojs/starlight/components';
import Tasks from '@components/Tasks.astro';
import Task from '@components/Task.astro';

In this topic, you will learn how to update drop-in component labels by using the resources available in the commerce boilerplate.

## Key concepts

<Vocabulary>

### Placeholders files

Multiple JSON files where you can manage labels for your storefront, which includes localization. Each drop-in component has its own placeholders file (e.g., `cart.json`, `checkout.json`, `pdp.json`). See the [Placeholders files](/resources/placeholders/) for more information.

### Language objects

A JavaScript object (named `langDefinitions` by convention) that contains key-value pairs for UI text labels in a specific language. The object is used to override the default dictionary with the placeholder file's keys and values.

### Labeling

Add or change UI text labels within Commerce drop-in components. Merchants can update storefront UI labels by editing the placeholders file in their content directory.

### Localizing

To adapt UI text labels and formatting for a specific language. This process includes translating text labels and changing the text direction, date and time formats, and currency symbols to match the target language.

</Vocabulary>

## Big picture

Labeling drop-in components in the storefront involves two files:

<Steps>
1. The **placeholders files** that provide the default drop-in component UI labels that merchants can quickly update as needed.
2. The **drop-in block** (examples, `product-details.js`, `cart.js`) where you add code to fetch, map, and override the drop-in component dictionary at runtime.
</Steps>

The following diagram shows the process for adding and overriding labels and text for drop-in components within the boilerplate template.

<Diagram caption="How localization and labeling works in storefronts.">
  ![How localization and labeling works in storefronts.](@images/DropinDictionaries.svg)
</Diagram>

<Callouts>

1. **Placeholder files**. Merchants can quickly update the labels in their storefront from JSON files: `placeholders`, which are organized by drop-in component (e.g., `cart.json`, `checkout.json`, `pdp.json`).
1. **Import function**. You need to import the `fetchPlaceholders` function from the boilerplate's `commerce.js` file.
1. **Fetch placeholders.** Use the `fetchPlaceholders` function to retrieve the `placeholders` key-value pairs from the content folder.
1. **Override default dictionary**. Override the `default` property from the `langDefinitions` object with the keys and values from the `placeholder` object.
1. **Initialize dictionary**. Use the `register` function to update the dictionary at runtime.

</Callouts>

## Step-by-step

In the boilerplate code, the UI text labels in drop-in components come from the `placeholders` files. Using these files as the source for all storefront UI labels across drop-in components makes it easy for merchants to make label changes without developer involvement.

There are two key aspects to using `fetchPlaceholders`:

1. **During initialization**:  
   You must provide the path to the drop-inâ€™s placeholders file. This file will be fetched and merged into the existing placeholders object. Subsequent calls to `fetchPlaceholders()` without a path will return the merged object containing all fetched labels.

2. **After initialization**:  
   You can call `fetchPlaceholders()` without a path to retrieve all initialized placeholders as a single object. This object can be accessed from a Block or anywhere else in the project.

<Tasks>

<Task>
### Import `fetchPlaceholders` function

In the drop-in block (for example, `product-details.js`, `cart.js`), import the `fetchPlaceholders` function from the boilerplate's `commerce.js` file.

```javascript
import { fetchPlaceholders } from '../../scripts/commerce.js';
```
</Task>

<Task>
### Initialize placeholders with path

During initialization, use `fetchPlaceholders` with the path to your drop-in's placeholders file. This fetches and merges the placeholders into the global object.

```javascript
// Initialize placeholders for this drop-in
const placeholders = await fetchPlaceholders('placeholders/cart.json');

const langDefinitions = {
  default: {
    ...placeholders,
  },
};

// Register Initializers
initializers.mountImmediately(initialize, {
  langDefinitions,
  //...
});
```
</Task>

<Task>
### Fetch placeholders after initialization

After initialization, you can use `fetchPlaceholders` without a path to retrieve all merged placeholders. The following diagram and code snippet shows how to fetch the placeholders.

<Diagram caption="Using placeholder labels in your EDS commerce block">
  ![Using placeholder labels in your EDS commerce block](@images/LabelUsage.svg)
</Diagram>

```javascript
// Retrieve the placeholders language object
const labels = await fetchPlaceholders();

export default async function decorate(block) {
  const $elem = document.createElement('div');
  $elem.innerText = labels.Cart.PriceSummary.shipping.label;
}
```
</Task>

<Task>
### Test the changes

After you've updated the drop-in component dictionary with the new `langDefinitions` object, test the changes in the storefront to ensure the new labels are displayed correctly. If the labels are not displaying as expected, review the mapping between the placeholder keys and the drop-in component dictionary keys. Make sure the keys match exactly. If the keys don't match, the drop-in component will use the default dictionary values.
</Task>

</Tasks>
