---
title: Enriching dropin-in components
description: Learn how to enrich your backend Commerce data with Enrichment blocks.
---

import Aside from '@components/Aside.astro';
import { Steps } from '@astrojs/starlight/components';
import Tasks from '@components/Tasks.astro';
import Task from '@components/Task.astro';

Enriching dropin-in components is similar to adding content with slots. The difference is in scale. Enrichment is an Edge Delivery feature that provides a way to add content to entire product categories. Let's try it out.

## Step-by-step

The following steps show you how to enrich the content by placing new elements (blocks) above or below existing ones.

<Tasks>

<Task>
### Locate the target block

Before adding new elements, identify the target block where the new content will be inserted.

```javascript
const productDetailsWrapper = document.querySelector('.product-details-wrapper');
```
</Task>

<Task>
### Create the new element

Create the new block or element dynamically using JavaScript.

```javascript
const notificationBar = document.createElement('div');
notificationBar.classList.add('notification-bar', 'notification-bar__hidden');
notificationBar.tabIndex = -1;
```
</Task>

<Task>
### Insert the element above or below

Create the new block or element dynamically using JavaScript.

To position the element:

  - Above: Use insertAdjacentElement('beforebegin') or prepend().
  - Below: Use insertAdjacentElement('afterend') or append().

#### Above

```javascript
productDetailsWrapper.insertAdjacentElement('afterbegin', notificationBar);
```

#### Below

```javascript
productDetailsWrapper.appendChild(notificationBar);
```
</Task>

<Task>
### Style and populate the new element

Populate the content dynamically with labels, placeholders, or other data.

```javascript
notificationBar.textContent = 'This is a notification bar for product updates.';
```
</Task>

<Task>
### Attach event listeners (optional)

Enhance functionality by adding event listeners to the new elements.

```javascript
notificationBar.addEventListener('click', () => {
    alert('Notification Bar Clicked!');
});
```
</Task>

<Task>
### Use placeholders for dynamic content

If the new block requires text from a configuration, fetch it dynamically.

```javascript
const placeholders = await fetchPlaceholders(currentStoreCode);
const label = placeholders.pdpAddToCart || 'Default Add to Cart Label';
notificationBar.textContent = label;
```
</Task>

</Tasks>

### Advanced example: Adding a carousel below a product block

Here's a practical example of inserting a carousel component below a product details section.

1. Create a Wrapper:

    ```javascript
    const productDetailsWrapper = document.querySelector('.product-details-wrapper');
    ```

1. Configure the Carousel:

    ```javascript
      const carouselConfig = {
        controls: 'thumbnailsColumn',
        arrowsOnMainImage: true,
        loopable: false,
        mobile: true,
    };
    ```

1. Insert Carousel:

    ```javascript
    productDetailsWrapper.appendChild(carouselWrapper);
    ```

1. Render the Carousel:

    ```javascript
    productRenderer.render(GalleryContent, {
        context: carouselConfig,
    })(carouselWrapper);
    ```

This process can be applied to any block manipulation where placement above or below is required. The key is to identify the target block and insert the new content accordingly.
