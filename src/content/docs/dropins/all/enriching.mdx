---
title: Enriching dropin-in components
description: Learn how to enrich your backend Commerce data with Enrichment blocks.
---

import Aside from '@components/Aside.astro';
import { Steps } from '@astrojs/starlight/components';
import Tasks from '@components/Tasks.astro';
import Task from '@components/Task.astro';
import Diagram from '@components/Diagram.astro';
import Callouts from '@components/Callouts.astro';
import OptionsTable from '@components/OptionsTable.astro';
import { Badge } from '@astrojs/starlight/components';
import Vocabulary from '@components/Vocabulary.astro';

Enriching drop-in components is the common practice of adding additional content to an existing drop-in component. This guide explains how to enrich storefront pages by adding new content **above**, **below**, and **within** a storefront page's drop-in component.

## Key concepts

<Vocabulary>

### Content blocks

Content blocks are HTML elements that contain text, images, or other media. They are used to structure and organize content on a webpage.

### Content positioning

Content positioning is the placement of content blocks on a webpage. It includes the arrangement of content blocks above or below a drop-in component. Positioning content inside a drop-in component is also possible using the slots placement API.

The page structure is the layout of a webpage that includes the arrangement of content blocks, drop-in components, and other elements.

### Content placement API

The content placement API for drop-in slots allows you to add content to a drop-in component by specifying a slot name and a position. The slot API provides methods to add content to specific positions: above the slot (prepend), below the slot (append) append around and within slots in a drop-in component.

</Vocabulary>

## Big picture

The most common ways to add content to a drop-in component on a page are:

1. Placing content blocks above or below the drop-in component in the document.
1. Add content to a slot using the slots placement API.

<Diagram caption="[DROPIN_NAME position]">
  ![DROPIN_NAME in the storefront](@images/placeholder.webp)
</Diagram>

<Callouts columnCount="1">

1. **PART_1**: Describe part.
1. **PART_2**: Describe part.

</Callouts>

## Step-by-step

The following steps show you how to enrich the content by placing new elements (blocks) above or below existing ones.

<Tasks>

<Task>

### Locate the target block

Before adding new elements, identify the target block where the new content will be inserted.

```javascript
const productDetailsWrapper = document.querySelector('.product-details-wrapper');
```
</Task>

<Task>
### Create the new element

Create the new block or element dynamically using JavaScript.

```javascript
const notificationBar = document.createElement('div');
notificationBar.classList.add('notification-bar', 'notification-bar__hidden');
notificationBar.tabIndex = -1;
```
</Task>

<Task>
### Insert the element above or below

Create the new block or element dynamically using JavaScript.

To position the element:

  - Above: Use insertAdjacentElement('beforebegin') or prepend().
  - Below: Use insertAdjacentElement('afterend') or append().

#### Above

```javascript
productDetailsWrapper.insertAdjacentElement('afterbegin', notificationBar);
```

#### Below

```javascript
productDetailsWrapper.appendChild(notificationBar);
```
</Task>

<Task>
### Style and populate the new element

Populate the content dynamically with labels, placeholders, or other data.

```javascript
notificationBar.textContent = 'This is a notification bar for product updates.';
```
</Task>

<Task>
### Attach event listeners (optional)

Enhance functionality by adding event listeners to the new elements.

```javascript
notificationBar.addEventListener('click', () => {
    alert('Notification Bar Clicked!');
});
```
</Task>

<Task>
### Use placeholders for dynamic content

If the new block requires text from a configuration, fetch it dynamically.

```javascript
const placeholders = await fetchPlaceholders(currentStoreCode);
const label = placeholders.pdpAddToCart || 'Default Add to Cart Label';
notificationBar.textContent = label;
```
</Task>

</Tasks>

### Advanced example: Adding a carousel below a product block

Here's a practical example of inserting a carousel component below a product details section.

1. Create a Wrapper:

    ```javascript
    const productDetailsWrapper = document.querySelector('.product-details-wrapper');
    ```

1. Configure the Carousel:

    ```javascript
      const carouselConfig = {
        controls: 'thumbnailsColumn',
        arrowsOnMainImage: true,
        loopable: false,
        mobile: true,
    };
    ```

1. Insert Carousel:

    ```javascript
    productDetailsWrapper.appendChild(carouselWrapper);
    ```

1. Render the Carousel:

    ```javascript
    productRenderer.render(GalleryContent, {
        context: carouselConfig,
    })(carouselWrapper);
    ```

This process can be applied to any block manipulation where placement above or below is required. The key is to identify the target block and insert the new content accordingly.
