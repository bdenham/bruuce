---
title: Add a payment method
description: Learn how to integrate third-party payment providers with the Commerce boilerplate template.
---

import Aside from '@components/Aside.astro';
import FileTree from '@components/FileTree.astro';
import { Tabs, TabItem, Code, Steps } from '@astrojs/starlight/components';
import Tasks from '@components/Tasks.astro';
import Task from '@components/Task.astro';

To integrate third-party payment providers, you can use the extensibility features provided by the checkout drop-in component. This component allows you to customize the list of payment methods shown during the checkout process using slots.

## Steps-by-step

This tutorial provides a step-by-step guide for integrating the Braintree payment provider with the Commerce boilerplate template. You can use these steps as a reference to integrate other payment providers as well. Just make sure that the payment provider you choose offers an SDK or API that you can use to integrate with the [slots](/dropins/checkout/slots/) provided by the `PaymentMethods` container in the checkout drop-in component.

<Tasks>

<Task>
### Prerequisites

You must [configure](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree) the Braintree extension on your Adobe Commerce backend before integrating it with the Commerce boilerplate template.

</Task>

<Task>

### Add the Braintree client SDK

To integrate the Braintree payment provider with the Commerce boilerplate template, you must add the Braintree client SDK to the `commerce-checkout.js` file.

<Steps>
1. Open the `blocks/commerce-checkout/commerce-checkout.js` file.

1. Import the Braintree client SDK.
   
   ```js
   ...
   import 'https://js.braintreegateway.com/web/dropin/1.43.0/js/dropin.js';
   ...
   ```

</Steps>

</Task>

<Task>

### Define a payment method modifier

To render the Braintree payment method UI in the `PaymentMethods` container, you must define a modifier that you can use in the container's `main` slot.

```js
const renderBraintreePayments = (element, context) => {
  const { onPlaceOrder } = context;
  const $content = document.createElement('div');

  $content.innerHTML = '<div id="dropin-container"></div>';
```

</Task>

<Task>

### Create and insert the Braintree drop-in UI

Inside the function, a new `div` element is created and assigned to `$content`. This `div` contains another `div` with the ID `dropin-container`. If the element parameter is provided, its inner HTML is set to the content of `$content`. Then, the Braintree drop-in UI is created and attached to the `#dropin-container` using the provided authorization token.

```js
  if (element) {
    element.innerHTML = $content.innerHTML;
    braintree.dropin.create({
      authorization: 'sandbox_g42y39zw_348pk9cgf3bgyw2b',
      container: '#dropin-container',
    });
  }
};
```

</Task>

<Task>

### Set the function on the slot

Finally, you must set the `renderBraintreePayments` function on the `main` slot.

```js
CheckoutProvider.render(PaymentMethods, {
  slots: {
    Main: renderBraintreePayments,
  },
})(document.getElementById('payment-methods'));
```

</Task>

</Tasks>