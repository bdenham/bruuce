---
title: Personalization
description: Learn how to display personalized content using Targeted Blocks.
---

import { Tabs, TabItem } from '@astrojs/starlight/components';
import Diagram from '@components/Diagram.astro';
import Vocabulary from '@components/Vocabulary.astro';
import Aside from '@components/Aside.astro';
import Callouts from '@components/Callouts.astro';
import { Steps } from '@astrojs/starlight/components';
import Tasks from '@components/Tasks.astro';
import Task from '@components/Task.astro';
import OptionsTable from '@components/OptionsTable.astro';

This topic describes how to use Targeted Blocks to deliver personalized experiences.

## Vocabulary

<Vocabulary>

### Targeted Block

A block that wraps the content targeted for specific customer groups, segments, or cart rules.

### Group

([Adobe Commerce Customer Group](https://experienceleague.adobe.com/en/docs/commerce-admin/customers/customer-groups)) assigned to the customer.

### Segment

([Adobe Commerce Customer Segment](https://experienceleague.adobe.com/en/docs/commerce-admin/customers/segments/customer-segments)) that applies to the customer.

### Cart Rule

([Adobe Commerce Cart Price Rule](https://experienceleague.adobe.com/en/docs/commerce-admin/marketing/promotions/cart-rules/price-rules-cart)) that applies to the customer cart.

</Vocabulary>

## About Targeted Blocks

You can add Targeted Blocks to a Commerce storefront page. They accept the following parameters:

<OptionsTable
  compact
  options={[
    ['Parameter', 'Description'],
    ['Customer Groups', 'Comma-separated list of customer group IDs that determine which customers can view the block.'],
    ['Customer Segments', 'Comma-separated list of customer segment IDs that determine which customers can view the block.'],
    ['Cart Rules', 'Comma-separated list of cart rule IDs that determine which customers can view the block.'],
    ['Fragment', 'The path to the fragment containing the content.'],
    ['Type', 'The type of block to use for the fallback chain creation. Only the first block that satisfies the conditions of each type is displayed.'],
  ]}
/>

If the fragment is not used for a Targeted Block, the last merged row of the block configuration must contain the content.

## Specific customer segments

Specify the comma-separated list of customer segment IDs from Adobe Commerce to ensure that the block displays for customers matching these segments only.

The content of the Targeted Block in the following example will be displayed to the customers of the 1st and 2nd segments only:

<Diagram caption="Targeted block for specific customer segments">![Targeted block for specific customer segments](@images/dropins/personalization/targeted-block.png)</Diagram>

## Load interactive content from a fragment

Instead of embedding content directly in the Targeted Block, you can specify a path to a fragment file. When you use a fragment, the system loads the content from the specified document path and displays it as the Targeted Block content.

The content of the Targeted Block in the following example will be loaded from a document following the path specified in the Fragment property:

<Diagram caption="Targeted block loading interactive content from a fragment">![Targeted block loading interactive content from a fragment](@images/dropins/personalization/targeted-block-fragment.png)</Diagram>

## Fallback using block type

When multiple Targeted Blocks on a page share the same type, only the first matching Targeted Block displays to the customer. This fallback behavior enables you to configure a Targeted Block with default content that is visible to everyone, which specific blocks for particular groups or segments can then replace.

In this example, the first Targeted Block displays only to customers whose shopping cart meets the conditions of cart price rule ID 5. The second Targeted Block has no conditions and should display to all customers. However, because both blocks share the same "Type" value, the second block will not display when the first block is active. Blocks with the same type replace each other in the display hierarchy:

<Diagram caption="Targeted blocks fallback using block type">![Targeted blocks fallback using block type](@images/dropins/personalization/targeted-block-type.png)</Diagram>

## Next steps

Now that you understand how to create Targeted Blocks, you can start experimenting with personalized content for your customers.
