---
title: Personalization
description: Learn how to use Targeted block for displaying personalized content.
---

import { Tabs, TabItem } from '@astrojs/starlight/components';
import Diagram from '@components/Diagram.astro';
import Vocabulary from '@components/Vocabulary.astro';
import Aside from '@components/Aside.astro';
import Callouts from '@components/Callouts.astro';
import { Steps } from '@astrojs/starlight/components';
import Tasks from '@components/Tasks.astro';
import Task from '@components/Task.astro';
import OptionsTable from '@components/OptionsTable.astro';

This topic describes how to use Targeted Blocks and use them to deliver personalized experiences.

## Vocabulary

<Vocabulary>

### Targeted Block

A block that is wrapping the content targeted for specific customer groups, segments or cart rules.

### Group

([Adobe Commerce Customer Group](https://experienceleague.adobe.com/en/docs/commerce-admin/customers/customer-groups)) assigned to the customer.

### Segment

([Adobe Commerce Customer Segment](https://experienceleague.adobe.com/en/docs/commerce-admin/customers/segments/customer-segments)) that applies to the customer.

### Cart Rule

([Adobe Commerce Cart Price Rule](https://experienceleague.adobe.com/en/docs/commerce-admin/marketing/promotions/cart-rules/price-rules-cart)) that applies to the customer cart.

</Vocabulary>

## About Targeted Block

Targeted Blocks can be added to a Commerce storefront page and accept the following parameters:

<OptionsTable
  compact
  options={[
    ['Parameter', 'Description'],
    ['Customer Groups', 'Comma-separated ids of customer groups the block can be displayed to'],
    ['Customer Segments', 'Comma-separated ids of customer segments the block can be displayed to'],
    ['Cart Rules', 'Comma-separated ids of cart rules the block can be displayed to'],
    ['Fragment', 'The path to the fragment containing the content'],
    ['Type', 'The type of the block is used for the fallback chain creation. Only the first block satisfying the conditions of each type will be displayed'],
  ]}
/>

If the fragment is not used for a targeted block, the last merged row of block configuration have to contain the content.

## Targeted block for specific customer segments

Specify the comma separated IDs of customer segments from Adobe Commerce to ensure the block is displayed only to customers matching these segments.

The content of the targeted block in the following example will be displayed only to the customers of 1st and 2nd segments:

<Diagram caption="Targeted block for specific customer segments">![Targeted block for specific customer segments](@images/dropins/personalization/targeted-block.png)</Diagram>

## Targeted block loading interactive content from a fragment

Instead of wrapping the content to the Targeted Block, you can specify the path to the fragment. In this case the content of the document in the specified path will be loaded as the Targeted Block content.

The content of the targeted block in the following example will be loaded from a documents following the path specified in the Fragment property:

<Diagram caption="Targeted block loading interactive content from a fragment">![Targeted block loading interactive content from a fragment](@images/dropins/personalization/targeted-block-fragment.png)</Diagram>

## Targeted blocks fallback using block type

When the type is specified for several targeted blocks on the page, only the first matching targeted block will be displayed to the customer. This is useful for configuring a targeted block with default content visible for everyone, that is replaced with specific blocks for specific groups or segments.

The first targeted block in this example is visible only to customers when the cart price rule with ID 5 applies to their shopping cart. The second targeted block does not have conditions, so it should be visible for everyone. However, as the "Type" of the second block is the same as the first block, the second block will not be displayed when the first block is displayed. The blocks of the same type are replacing each other:

<Diagram caption="Targeted blocks fallback using block type">![Targeted blocks fallback using block type](@images/dropins/personalization/targeted-block-type.png)</Diagram>

## Next steps

Now that you understand how to create Targeted Blocks, you can start experimenting with personalized content for your customers.
