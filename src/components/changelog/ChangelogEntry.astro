---
interface Props {
  date: string;
  title: string;
  type: 'feature' | 'update' | 'fix' | 'deprecation';
  components: string[];
}

const { date, title, type, components } = Astro.props;

const formattedDate = new Date(date).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<article class="changelog-entry" data-type={type} data-components={components.join(',')}>
  <div class="entry-header">
    <div class="entry-meta">
      <time datetime={date}>{formattedDate}</time>
    </div>
    <h2 class="entry-title">{title}</h2>
    <div class="entry-tags">
      <span class="entry-tag type-tag" data-type={type}>{type}</span>
      {components.map(component => {
        return <span class="entry-tag">{component}</span>;
      })}
    </div>
  </div>
  <div class="entry-content">
    <slot />
  </div>
</article>