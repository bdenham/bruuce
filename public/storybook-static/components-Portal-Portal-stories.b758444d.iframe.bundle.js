"use strict";(self.webpackChunk_adobe_commerce_elsie=self.webpackChunk_adobe_commerce_elsie||[]).push([[5197],{"./src/components/Portal/Portal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DynamicContent:()=>DynamicContent,NestedPortals:()=>NestedPortals,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _Portal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Portal/Portal.tsx"),_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Button/Button.tsx"),preact_compat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/preact/compat/dist/compat.module.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/preact/compat/jsx-runtime.mjs");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Portal",component:_Portal__WEBPACK_IMPORTED_MODULE_2__.Z,parameters:{layout:"centered"},tags:["autodocs"]};var DynamicContent={render:function render(){var _useState2=_slicedToArray((0,preact_compat__WEBPACK_IMPORTED_MODULE_0__.J0)(!1),2),isOpen=_useState2[0],setIsOpen=_useState2[1],_useState4=_slicedToArray((0,preact_compat__WEBPACK_IMPORTED_MODULE_0__.J0)(0),2),count=_useState4[0],setCount=_useState4[1];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)("div",{style:{border:"2px dashed #ccc",padding:"20px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Button__WEBPACK_IMPORTED_MODULE_3__.$,{onClick:function onClick(){return setIsOpen(!isOpen)},children:isOpen?"Close Portal":"Open Portal"}),isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Portal__WEBPACK_IMPORTED_MODULE_2__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",padding:"20px",border:"1px solid #ccc",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)("p",{children:["Portal content with counter: ",count]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Button__WEBPACK_IMPORTED_MODULE_3__.$,{onClick:function onClick(){return setCount((function(c){return c+1}))},children:"Increment Counter"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Button__WEBPACK_IMPORTED_MODULE_3__.$,{variant:"tertiary",onClick:function onClick(){return setIsOpen(!1)},style:{marginLeft:"8px"},children:"Close"})]})})]})}},NestedPortals={render:function render(){var _useState6=_slicedToArray((0,preact_compat__WEBPACK_IMPORTED_MODULE_0__.J0)(!1),2),isOuterOpen=_useState6[0],setOuterOpen=_useState6[1],_useState8=_slicedToArray((0,preact_compat__WEBPACK_IMPORTED_MODULE_0__.J0)(!1),2),isInnerOpen=_useState8[0],setInnerOpen=_useState8[1];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)("div",{style:{border:"2px dashed #ccc",padding:"20px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Button__WEBPACK_IMPORTED_MODULE_3__.$,{onClick:function onClick(){return setOuterOpen(!isOuterOpen)},children:isOuterOpen?"Close Outer Portal":"Open Outer Portal"}),isOuterOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Portal__WEBPACK_IMPORTED_MODULE_2__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",padding:"20px",border:"1px solid #ccc",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)("p",{children:"Outer Portal Content"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Button__WEBPACK_IMPORTED_MODULE_3__.$,{onClick:function onClick(){return setInnerOpen(!isInnerOpen)},children:isInnerOpen?"Close Inner Portal":"Open Inner Portal"}),isInnerOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Portal__WEBPACK_IMPORTED_MODULE_2__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)("div",{style:{position:"fixed",top:"60%",left:"50%",transform:"translate(-50%, -50%)",background:"white",padding:"20px",border:"1px solid #ccc",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)("p",{children:"Inner Portal Content"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Button__WEBPACK_IMPORTED_MODULE_3__.$,{variant:"tertiary",onClick:function onClick(){return setInnerOpen(!1)},children:"Close Inner Portal"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_Button__WEBPACK_IMPORTED_MODULE_3__.$,{variant:"tertiary",onClick:function onClick(){return setOuterOpen(!1)},style:{marginLeft:"8px"},children:"Close Outer Portal"})]})})]})}};const __namedExportsOrder=["DynamicContent","NestedPortals"];DynamicContent.parameters={...DynamicContent.parameters,docs:{...DynamicContent.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [count, setCount] = useState(0);\n    return <div style={{\n      border: '2px dashed #ccc',\n      padding: '20px'\n    }}>\n        <Button onClick={() => setIsOpen(!isOpen)}>\n          {isOpen ? 'Close Portal' : 'Open Portal'}\n        </Button>\n        \n        {isOpen && <Portal>\n            <div style={{\n          position: 'fixed',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          background: 'white',\n          padding: '20px',\n          border: '1px solid #ccc',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        }}>\n              <p>Portal content with counter: {count}</p>\n              <Button onClick={() => setCount(c => c + 1)}>\n                Increment Counter\n              </Button>\n              <Button variant=\"tertiary\" onClick={() => setIsOpen(false)} style={{\n            marginLeft: '8px'\n          }}>\n                Close\n              </Button>\n            </div>\n          </Portal>}\n      </div>;\n  }\n}",...DynamicContent.parameters?.docs?.source},description:{story:"```ts\nimport { Portal } from '@/elsie/components/Portal';\n\n<Portal>\n     <div>ðŸ‘‹ Howdy, I'm Howdy!</div>\n</Portal>\n```",...DynamicContent.parameters?.docs?.description}}},NestedPortals.parameters={...NestedPortals.parameters,docs:{...NestedPortals.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    const [isOuterOpen, setOuterOpen] = useState(false);\n    const [isInnerOpen, setInnerOpen] = useState(false);\n    return <div style={{\n      border: '2px dashed #ccc',\n      padding: '20px'\n    }}>\n        <Button onClick={() => setOuterOpen(!isOuterOpen)}>\n          {isOuterOpen ? 'Close Outer Portal' : 'Open Outer Portal'}\n        </Button>\n        \n        {isOuterOpen && <Portal>\n            <div style={{\n          position: 'fixed',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          background: 'white',\n          padding: '20px',\n          border: '1px solid #ccc',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        }}>\n              <p>Outer Portal Content</p>\n              <Button onClick={() => setInnerOpen(!isInnerOpen)}>\n                {isInnerOpen ? 'Close Inner Portal' : 'Open Inner Portal'}\n              </Button>\n              \n              {isInnerOpen && <Portal>\n                  <div style={{\n              position: 'fixed',\n              top: '60%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n              background: 'white',\n              padding: '20px',\n              border: '1px solid #ccc',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n                    <p>Inner Portal Content</p>\n                    <Button variant=\"tertiary\" onClick={() => setInnerOpen(false)}>\n                      Close Inner Portal\n                    </Button>\n                  </div>\n                </Portal>}\n              \n              <Button variant=\"tertiary\" onClick={() => setOuterOpen(false)} style={{\n            marginLeft: '8px'\n          }}>\n                Close Outer Portal\n              </Button>\n            </div>\n          </Portal>}\n      </div>;\n  }\n}",...NestedPortals.parameters?.docs?.source}}}},"./src/components/Portal/Portal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Portal});var preact_compat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/preact/compat/dist/compat.module.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/preact/compat/jsx-runtime.mjs");function cov_2p7zmdijzi(){var path="/var/jenkins/workspace/elsiedev-storefront-sdk-release-docs/StorefrontSDK/packages/elsie/src/components/Portal/Portal.tsx",global=new Function("return this")(),gcv="__coverage__",coverageData={path:"/var/jenkins/workspace/elsiedev-storefront-sdk-release-docs/StorefrontSDK/packages/elsie/src/components/Portal/Portal.tsx",statementMap:{0:{start:{line:12,column:20},end:{line:44,column:1}},1:{start:{line:13,column:17},end:{line:13,column:30}},2:{start:{line:14,column:19},end:{line:14,column:31}},3:{start:{line:15,column:19},end:{line:15,column:31}},4:{start:{line:16,column:2},end:{line:36,column:9}},5:{start:{line:18,column:4},end:{line:22,column:5}},6:{start:{line:19,column:6},end:{line:19,column:57}},7:{start:{line:20,column:6},end:{line:20,column:62}},8:{start:{line:21,column:6},end:{line:21,column:52}},9:{start:{line:25,column:4},end:{line:27,column:5}},10:{start:{line:26,column:6},end:{line:26,column:57}},11:{start:{line:30,column:4},end:{line:35,column:6}},12:{start:{line:31,column:6},end:{line:34,column:7}},13:{start:{line:32,column:8},end:{line:32,column:36}},14:{start:{line:33,column:8},end:{line:33,column:34}},15:{start:{line:39,column:2},end:{line:43,column:5}}},fnMap:{0:{name:"Portal",decl:{start:{line:12,column:29},end:{line:12,column:35}},loc:{start:{line:12,column:42},end:{line:44,column:1}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:18},end:{line:16,column:19}},loc:{start:{line:16,column:30},end:{line:36,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:30,column:11},end:{line:30,column:12}},loc:{start:{line:30,column:23},end:{line:35,column:5}},line:30}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:25,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:27,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25},2:{loc:{start:{line:25,column:8},end:{line:25,column:48}},type:"binary-expr",locations:[{start:{line:25,column:8},end:{line:25,column:26}},{start:{line:25,column:30},end:{line:25,column:48}}],line:25},3:{loc:{start:{line:31,column:6},end:{line:34,column:7}},type:"if",locations:[{start:{line:31,column:6},end:{line:34,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:void 0,names:["useLayoutEffect","useRef","jsx","_jsx","Portal","_ref","children","portalRoot","contentRef","current","document","createElement","setAttribute","body","appendChild","remove","ref","className"],sourceRoot:void 0,sources:["/var/jenkins/workspace/elsiedev-storefront-sdk-release-docs/StorefrontSDK/packages/elsie/src/components/Portal/Portal.tsx"],sourcesContent:["/********************************************************************\n *  Copyright 2024 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  Adobe permits you to use, modify, and distribute this \n * file in accordance with the terms of the Adobe license agreement \n * accompanying it. \n *******************************************************************/\n\nimport { ComponentChildren } from 'preact';\nimport { FunctionComponent, useLayoutEffect, useRef } from 'preact/compat';\n\ninterface PortalProps {\n  children: ComponentChildren;\n}\n\nexport const Portal: FunctionComponent<PortalProps> = ({ children }) => {\n  const portalRoot = useRef<HTMLDivElement | null>(null);\n  const contentRef = useRef<HTMLDivElement | null>(null);\n\n  useLayoutEffect(() => {\n    // Create portal root if it doesn't exist\n    if (!portalRoot.current) {\n      portalRoot.current = document.createElement('div');\n      portalRoot.current.setAttribute('data-portal-root', '');\n      document.body.appendChild(portalRoot.current);\n    }\n\n    // Move content to portal root\n    if (contentRef.current && portalRoot.current) {\n      portalRoot.current.appendChild(contentRef.current);\n    }\n\n    // Cleanup\n    return () => {\n      if (portalRoot.current) {\n        portalRoot.current.remove();\n        portalRoot.current = null;\n      }\n    };\n  }, []);\n\n  // Return a div that contains the children\n  return (\n    <div ref={contentRef} className=\"dropin-design\">\n      {children}\n    </div>\n  );\n}; "],mappings:"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,SAA4BA,eAAe,EAAEC,MAAM,QAAQ,eAAe;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAM3E,OAAO,IAAMC,MAAsC,GAAG,SAAzCA,MAAsCA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAC/D,IAAMC,UAAU,GAAGN,MAAM,CAAwB,IAAI,CAAC;EACtD,IAAMO,UAAU,GAAGP,MAAM,CAAwB,IAAI,CAAC;EAEtDD,eAAe,CAAC,YAAM;IACpB;IACA,IAAI,CAACO,UAAU,CAACE,OAAO,EAAE;MACvBF,UAAU,CAACE,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAClDJ,UAAU,CAACE,OAAO,CAACG,YAAY,CAAC,kBAAkB,EAAE,EAAE,CAAC;MACvDF,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACP,UAAU,CAACE,OAAO,CAAC;IAC/C;;IAEA;IACA,IAAID,UAAU,CAACC,OAAO,IAAIF,UAAU,CAACE,OAAO,EAAE;MAC5CF,UAAU,CAACE,OAAO,CAACK,WAAW,CAACN,UAAU,CAACC,OAAO,CAAC;IACpD;;IAEA;IACA,OAAO,YAAM;MACX,IAAIF,UAAU,CAACE,OAAO,EAAE;QACtBF,UAAU,CAACE,OAAO,CAACM,MAAM,CAAC,CAAC;QAC3BR,UAAU,CAACE,OAAO,GAAG,IAAI;MAC3B;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,oBACEN,IAAA;IAAKa,GAAG,EAAER,UAAW;IAACS,SAAS,EAAC,eAAe;IAAAX,QAAA,EAC5CA;EAAQ,CACN,CAAC;AAEV,CAAC",ignoreList:[]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f78c5d7ce52627b13d0c382bd8021a0ba4688db2"},coverage=global[gcv]||(global[gcv]={});coverage[path]&&"f78c5d7ce52627b13d0c382bd8021a0ba4688db2"===coverage[path].hash||(coverage[path]=coverageData);var actualCoverage=coverage[path];return cov_2p7zmdijzi=function(){return actualCoverage},actualCoverage}cov_2p7zmdijzi(),cov_2p7zmdijzi().s[0]++;var Portal=function Portal(_ref){cov_2p7zmdijzi().f[0]++;var children=(cov_2p7zmdijzi().s[1]++,_ref.children),portalRoot=(cov_2p7zmdijzi().s[2]++,(0,preact_compat__WEBPACK_IMPORTED_MODULE_0__.li)(null)),contentRef=(cov_2p7zmdijzi().s[3]++,(0,preact_compat__WEBPACK_IMPORTED_MODULE_0__.li)(null));return cov_2p7zmdijzi().s[4]++,(0,preact_compat__WEBPACK_IMPORTED_MODULE_0__.Nf)((function(){return cov_2p7zmdijzi().f[1]++,cov_2p7zmdijzi().s[5]++,portalRoot.current?cov_2p7zmdijzi().b[0][1]++:(cov_2p7zmdijzi().b[0][0]++,cov_2p7zmdijzi().s[6]++,portalRoot.current=document.createElement("div"),cov_2p7zmdijzi().s[7]++,portalRoot.current.setAttribute("data-portal-root",""),cov_2p7zmdijzi().s[8]++,document.body.appendChild(portalRoot.current)),cov_2p7zmdijzi().s[9]++,cov_2p7zmdijzi().b[2][0]++,contentRef.current&&(cov_2p7zmdijzi().b[2][1]++,portalRoot.current)?(cov_2p7zmdijzi().b[1][0]++,cov_2p7zmdijzi().s[10]++,portalRoot.current.appendChild(contentRef.current)):cov_2p7zmdijzi().b[1][1]++,cov_2p7zmdijzi().s[11]++,function(){cov_2p7zmdijzi().f[2]++,cov_2p7zmdijzi().s[12]++,portalRoot.current?(cov_2p7zmdijzi().b[3][0]++,cov_2p7zmdijzi().s[13]++,portalRoot.current.remove(),cov_2p7zmdijzi().s[14]++,portalRoot.current=null):cov_2p7zmdijzi().b[3][1]++}}),[]),cov_2p7zmdijzi().s[15]++,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)("div",{ref:contentRef,className:"dropin-design",children})}}}]);